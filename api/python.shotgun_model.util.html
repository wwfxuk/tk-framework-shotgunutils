

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>python.shotgun_model.util module &mdash; tk-framework-shotgunutils v5.6.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="python.task_manager package" href="python.task_manager.html" />
    <link rel="prev" title="python.shotgun_model.simple_shotgun_model module" href="python.shotgun_model.simple_shotgun_model.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> tk-framework-shotgunutils
          

          
          </a>

          
            
            
              <div class="version">
                v5.6.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">How To</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../shotgun_model.html">Shotgun Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shotgun_hierarchy_model.html">Shotgun Hierarchy Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shotgun_data.html">Shotgun Asynchronous Data Retriever</a></li>
<li class="toctree-l1"><a class="reference internal" href="../task_manager.html">Background Task Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings.html">Shotgun Toolkit Qt Settings Wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shotgun_globals.html">Shotgun Globals Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external_config.html">External Configuration Management</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="python.html">python package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="python.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="python.external_config.html">python.external_config package</a></li>
<li class="toctree-l4"><a class="reference internal" href="python.settings.html">python.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="python.shotgun_data.html">python.shotgun_data package</a></li>
<li class="toctree-l4"><a class="reference internal" href="python.shotgun_globals.html">python.shotgun_globals package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="python.shotgun_model.html">python.shotgun_model package</a></li>
<li class="toctree-l4"><a class="reference internal" href="python.task_manager.html">python.task_manager package</a></li>
<li class="toctree-l4"><a class="reference internal" href="python.utils.html">python.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python.html#module-python">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="framework.html">framework module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">tk-framework-shotgunutils</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">API</a> &raquo;</li>
        
          <li><a href="python.html">python package</a> &raquo;</li>
        
          <li><a href="python.shotgun_model.html">python.shotgun_model package</a> &raquo;</li>
        
      <li>python.shotgun_model.util module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/python.shotgun_model.util.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-python.shotgun_model.util">
<span id="python-shotgun-model-util-module"></span><h1>python.shotgun_model.util module<a class="headerlink" href="#module-python.shotgun_model.util" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="python.shotgun_model.util.compare_shotgun_data">
<code class="descname">compare_shotgun_data</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/python/shotgun_model/util.html#compare_shotgun_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#python.shotgun_model.util.compare_shotgun_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares two shotgun data structures.
Both inputs are assumed to contain utf-8 encoded data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if a is same as b, false otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="python.shotgun_model.util.get_sanitized_data">
<code class="descname">get_sanitized_data</code><span class="sig-paren">(</span><em>item</em>, <em>role</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/python/shotgun_model/util.html#get_sanitized_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#python.shotgun_model.util.get_sanitized_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative method to the data() methods offered on 
QStandardItem and QModelIndex. This helper method ensures
that complex data is returned in a correct and consistent 
fashion. All string data is returned as utf-8 encoded byte
streams and complex data structures are returned as 
python native objects (rather than QVariants).</p>
<p>Using this method whenever working with complex model data
ensures that the code behaves consistently across pyside
and pyqt and is using utf-8 encoded strings rather than
unicode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item</strong> – QStandardItem or QModelIndex or similar</li>
<li><strong>role</strong> – Role identifier to be passed to the item object’s data() method.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">native python objects</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="python.shotgun_model.util.get_sg_data">
<code class="descname">get_sg_data</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/python/shotgun_model/util.html#get_sg_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#python.shotgun_model.util.get_sg_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method.</p>
<p>Retrieves the shotgun data associated with the object passed in.
The object passed in is typically a QStandardItem or a QModelIndex
or any other object which implements a data(ROLE) method signature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item</strong> – QStandardItem or QModelIndex or similar</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Shotgun data or None if no data was associated</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="python.shotgun_model.util.sanitize_for_qt_model">
<code class="descname">sanitize_for_qt_model</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/python/shotgun_model/util.html#sanitize_for_qt_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#python.shotgun_model.util.sanitize_for_qt_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Useful when you have shotgun (or other) data and want to 
prepare it for storage as role data in a model.</p>
<p>Qt/pyside/pyqt automatically changes the data to be unicode
according to internal rules of its own, sometimes resulting in 
unicode errors. A safe strategy for storing unicode data inside
Qt model roles is therefore to ensure everything is converted to
unicode prior to insertion into the model. This method ensures 
that. All string values will be coonverted to unicode. UTF-8
is assumed for all strings:</p>
<p>in:  {“a”:”aaa”, “b”: 123, “c”: {“x”:”y”, “z”:”aa”}, “d”: [ {“x”:”y”, “z”:”aa”} ] }
out: {‘a’: u’aaa’, ‘c’: {‘x’: u’y’, ‘z’: u’aa’}, ‘b’: 123, ‘d’: [{‘x’: u’y’, ‘z’: u’aa’}]}</p>
<p>This method is the counterpart to sanitize_qt() which is the reciprocal
of this operation. When working with Qt models and shotgun data,
we recommend the following best practices:</p>
<ul class="simple">
<li>when sg data is inserted into a role in model, run it through
sanitize_for_qt_model() first</li>
<li>When taking it back out again, run it through sanitize_qt()</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>val</strong> – value to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">sanitized data</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="python.shotgun_model.util.sanitize_qt">
<code class="descname">sanitize_qt</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/python/shotgun_model/util.html#sanitize_qt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#python.shotgun_model.util.sanitize_qt" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a value to a tk friendly and consistent representation.
- QVariants are converted to native python structures
- QStrings are coverted to utf-8 encoded strs
- unicode objets are converted to utf-8 encoded strs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>val</strong> – input object</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">cleaned up data</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="python.task_manager.html" class="btn btn-neutral float-right" title="python.task_manager package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="python.shotgun_model.simple_shotgun_model.html" class="btn btn-neutral float-left" title="python.shotgun_model.simple_shotgun_model module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Shotgun Software

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>